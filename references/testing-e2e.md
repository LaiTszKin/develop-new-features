# E2E 測試原則

## 重要規則
- **僅在使用者明確要求時才規劃與實作 E2E 測試**。
- 未被要求時，PRD 的 E2E 區塊填「不適用（未被要求）」並簡述原因。

## 目的
- 驗證最關鍵的端到端使用者路徑是否可用。
- 捕捉跨系統、跨層整合後的行為落差。

## 使用時機
- 使用者明確要求 E2E 或驗證整體流程。
- 變更影響完整流程且高風險，需要最小範圍的端到端驗證。

## 不適用情境
- 沒有使用者要求時（預設不做）。
- 可以用單元或整合測試覆蓋的風險。

## 設計要點
- 覆蓋最關鍵路徑即可：避免擴張為全面 UI 測試。
- 測試資料可控：使用固定 seed 或可回收的測試資料。
- 追求穩定性：避免依賴不穩定外部系統，必要時使用環境替身。
- 成本透明：E2E 成本高，需明確說明目的與價值。

## PRD 填寫指引
- 使用者路徑：描述最核心的流程（例如「登入 → 建立 → 確認」）。
- 期望結果：可驗證的最終狀態或可觀察的成功條件。
- 目的：說明為何需要端到端驗證，以及其風險對應。
